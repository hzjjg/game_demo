require=function i(r,s,p){function a(o,e){if(!s[o]){if(!r[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(u)return u(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var n=s[o]={exports:{}};r[o][0].call(n.exports,function(e){var t=r[o][1][e];return a(t||e)},n,n.exports,i,r,s,p)}return s[o].exports}for(var u="function"==typeof require&&require,e=0;e<p.length;e++)a(p[e]);return a}({"combatUnit.interface":[function(e,t,o){"use strict";cc._RF.push(t,"c6741zro2dKz7crgc7+zxWI","combatUnit.interface"),Object.defineProperty(o,"__esModule",{value:!0});cc._decorator.property;cc._RF.pop()},{}],config:[function(e,t,o){"use strict";cc._RF.push(t,"12346wFAypNtYCsLc3gl+HT","config"),cc._RF.pop()},{}],const:[function(e,t,o){"use strict";var c;cc._RF.push(t,"e8817JeaJNGwJ5MIL9zVF9M","const"),Object.defineProperty(o,"__esModule",{value:!0}),(c=o.INPUT_TYPES||(o.INPUT_TYPES={}))[c.KEYBOARD=0]="KEYBOARD",c[c.TOUCH=1]="TOUCH",c[c.CONTROLLER=2]="CONTROLLER",cc._RF.pop()},{}],enemy:[function(e,t,o){"use strict";cc._RF.push(t,"f4d13H7E/VE+pHdIv6e6Xwo","enemy"),Object.defineProperty(o,"__esModule",{value:!0});var c=function(){};o.Enemy=c,cc._RF.pop()},{}],"entity.interface":[function(e,t,o){"use strict";cc._RF.push(t,"c3ef47B7vlMB7l8OSsQ5ryZ","entity.interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],environment:[function(e,t,o){"use strict";cc._RF.push(t,"0c19anYK/5IxKWND/9rZEd5","environment"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("../const/const").INPUT_TYPES.KEYBOARD;cc._initDebugSetting(cc.DebugMode.INFO),o.ENV={INPUT_TYPE:c},cc._RF.pop()},{"../const/const":"const"}],equipment:[function(e,t,o){"use strict";cc._RF.push(t,"3bc0dMqThNE+rDo+DJkCURG","equipment"),Object.defineProperty(o,"__esModule",{value:!0});var c=function(){};o.Equipmnet=c,cc._RF.pop()},{}],game:[function(e,t,o){"use strict";cc._RF.push(t,"94153CJhu9O4bCJWGGB5X/d","game"),cc._RF.pop()},{}],"level-1":[function(e,t,o){"use strict";cc._RF.push(t,"d8bb6e3rFBGdpPhDBsMc8Sh","level-1"),cc._RF.pop()},{}],level:[function(e,t,o){"use strict";cc._RF.push(t,"fb088jFNRREv7Xqr7xC5i6b","level"),cc._RF.pop()},{}],"movable.class":[function(e,t,o){"use strict";cc._RF.push(t,"2916eSrqsxFUai8jScNe5LZ","movable.class"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator.property,n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=0,e.maxSpeed=200,e.accel=1e3,e.allowAccel=!0,e.direction=0,e._moving=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"moving",{get:function(){return this._moving},set:function(e){this._moving||(this.speed=0),this._moving=e},enumerable:!0,configurable:!0}),__decorate([c()],e.prototype,"speed",void 0),__decorate([c()],e.prototype,"maxSpeed",void 0),__decorate([c()],e.prototype,"accel",void 0),__decorate([c()],e.prototype,"allowAccel",void 0),__decorate([c()],e.prototype,"direction",void 0),e}(cc.Component);o.Movable=n,cc._RF.pop()},{}],"mr-1":[function(e,t,o){"use strict";cc._RF.push(t,"29cf1WD+T5FtKlPUUcfwDdA","mr-1"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./player"),n=cc._decorator,i=n.ccclass,r=(n.property,n.executionOrder,function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onLoad=function(){this.bindMoveEvent()},t.prototype.update=function(e){this.updatePostion(e)},t=__decorate([i],t)}(c.Player));o.Mr1=r,cc._RF.pop()},{"./player":"player"}],npc:[function(e,t,o){"use strict";cc._RF.push(t,"bf1cepnRCJD+oQTRp/eWMR0","npc"),cc._RF.pop()},{}],player:[function(e,t,o){"use strict";cc._RF.push(t,"fe9e855t4lO7aK0vSUa5AUO","player"),Object.defineProperty(o,"__esModule",{value:!0});var p=e("../../config/environment"),a=e("../../const/const"),c=e("../common/movable.class"),n=cc._decorator,i=(n.ccclass,n.property),r=(n.executionOrder,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.height=10,e.width=10,e.maxHealth=0,e._health=0,e.damage=0,e.defense=0,e.tools=[],e.weapons=[],e.equipments=[],e.skills=[],e.pressingDirectionKeys=new Set,e}return __extends(e,t),Object.defineProperty(e.prototype,"health",{get:function(){return this.health},set:function(e){this._health=e},enumerable:!0,configurable:!0}),e.prototype.attack=function(e){},e.prototype.useSkill=function(e){e.release()},e.prototype.useTool=function(e){e.use()},e.prototype.addDirectionKey=function(e){this.pressingDirectionKeys.add(e),this.changeDirection()},e.prototype.removeDirectionKey=function(e){this.pressingDirectionKeys.delete(e),this.changeDirection()},e.prototype.changeDirection=function(){var e=null,t=this.pressingDirectionKeys,o=t.has(cc.KEY.a),c=t.has(cc.KEY.d),n=t.has(cc.KEY.w),i=t.has(cc.KEY.s),r=o||c,s=n||i;if(this.moving=!0,p.ENV.INPUT_TYPE===a.INPUT_TYPES.KEYBOARD){if(3<=t.size)return void(this.moving=!1);if(0===t.size)return void(this.moving=!1);if(n&&i||o&&c)return void(this.moving=!1);r?s?(o&&n&&(e=225),o&&i&&(e=135),c&&n&&(e=315),c&&i&&(e=45)):e=o?180:0:e=n?270:90,null!==e&&(this.direction=e)}},e.prototype.bindMoveEvent=function(){var t=this,o=[cc.KEY.a,cc.KEY.s,cc.KEY.d,cc.KEY.w];cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){o.includes(e.keyCode)&&t.addDirectionKey(e.keyCode)}),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){o.includes(e.keyCode)&&t.removeDirectionKey(e.keyCode)})},e.prototype.calcSpeed=function(e){var t=this.speed;return t=this.allowAccel&&t<this.maxSpeed?t+this.accel*e:this.maxSpeed},e.prototype.getXSpeed=function(){var e=this.direction%360*2*Math.PI/360;return this.speed*Math.cos(e)},e.prototype.getYspeed=function(){var e=this.direction%360*2*Math.PI/360;return this.speed*-Math.sin(e)},e.prototype.avoidOutOfScreen=function(){this.node.x,this.node.y;var e=this.minPosX||-this.node.parent.width/2,t=this.maxPosX||this.node.parent.width/2,o=this.minPosY||-this.node.parent.height/2,c=this.maxPosY||this.node.parent.height/2;this.node.x>t?this.node.x=t:this.node.x<e&&(this.node.x=e),this.node.y>c?this.node.y=c:this.node.y<o&&(this.node.y=o)},e.prototype.updatePostion=function(e){this.moving&&(this.avoidOutOfScreen(),this.speed=this.calcSpeed(e),this.node.x+=this.getXSpeed()*e,this.node.y+=this.getYspeed()*e)},__decorate([i()],e.prototype,"height",void 0),__decorate([i()],e.prototype,"width",void 0),__decorate([i()],e.prototype,"maxHealth",void 0),__decorate([i()],e.prototype,"damage",void 0),__decorate([i()],e.prototype,"defense",void 0),__decorate([i()],e.prototype,"tools",void 0),__decorate([i()],e.prototype,"weapons",void 0),__decorate([i()],e.prototype,"equipments",void 0),__decorate([i()],e.prototype,"skills",void 0),e}(c.Movable));o.Player=r,cc._RF.pop()},{"../../config/environment":"environment","../../const/const":"const","../common/movable.class":"movable.class"}],skill:[function(e,t,o){"use strict";cc._RF.push(t,"34fb8MyZJVOZJCuoLZF8Pgq","skill"),Object.defineProperty(o,"__esModule",{value:!0});var c=function(){};o.Skill=c,cc._RF.pop()},{}],tool:[function(e,t,o){"use strict";cc._RF.push(t,"0c907EiDqhKLK4RyvvgncJ3","tool"),Object.defineProperty(o,"__esModule",{value:!0});var c=function(){};o.Tool=c,cc._RF.pop()},{}],weapon:[function(e,t,o){"use strict";cc._RF.push(t,"a33c1/5HUlCLK+eUX9lATWX","weapon"),Object.defineProperty(o,"__esModule",{value:!0});var c=function(){};o.Weapon=c,cc._RF.pop()},{}]},{},["combatUnit.interface","entity.interface","movable.class","enemy","equipment","npc","mr-1","player","skill","tool","weapon","config","environment","const","game","level-1","level"]);